#include <SPI.h>
#include <WiFi.h>

const char* ssid     = "EXETEL B31980 2.4G"; // does not work on 5G network
const char* password = "6jqCKz5Y";

/* const char* resource = "https://maker.ifttt.com/trigger/ESP_MotionSMS/with/key/ptJbZEpqEFQaB5ZwcLwwBBAJ6KhmVoqpiGvrxModLOp"; */
/* const char* server_ifttt = "maker.ifttt.com"; */
/* const int httpPort = 80; */
//WiFiServer server(23);
int status = WL_IDLE_STATUS;

void setup(){

// Initialize serial port and wait for port to open. 
  //
  // Remove this line to stop output to serial port, yet still proper
  // program operation.
  Serial.begin(9600); 
  while (!Serial) {
    ; // wait for serial port to connect. Needed for Leonardo only
  }
  
  // Check for the presence of the shield:
  if (WiFi.status() == WL_NO_SHIELD) {
    Serial.println("WiFi shield not present");
    while(true); // don't continue
  }
  

  // Attempt to connect to Wifi network:
  while(status != WL_CONNECTED){ 
    Serial.print("Attempting to connect to SSID: ");
    Serial.println(ssid);
    
    // Connect to WPA/WPA2 network.
    //
    // Configures wifi shield with a static ip address, otherwise uses DHCP
//    WiFi.config(ip);
//		WiFi.config(ip);
    
    status = WiFi.begin(ssid, password);

    delay(10000); // Wait 10 sec for connection
	}


	//server.begin(); // Start the server, thus START LISTENING FOR CLIENTS.

  printWifiStatus(); // You're connected now, so print out the status.
}

void loop(){
	
}






void printWifiStatus(){

  // print the SSID of the network you're attached to
  Serial.print("SSID: ");
  Serial.println(WiFi.SSID());

  // print your WiFi shield's IP address:
  IPAddress ip = WiFi.localIP();
  Serial.print("IP Address: ");
  Serial.println(ip);
  //server.write(ip);

  // print the received signal strength:
  long rssi = WiFi.RSSI();
  Serial.print("signal strength (RSSI):");
  Serial.print(rssi);
  Serial.println(" dBm");
  
  // display wifi shield firmware version, version < 1.1 requres a
  // firmware update of wifi shield.
  Serial.print("Firmware Version(version < 1.1.0 requires firmware upgrade):");
  Serial.println(WiFi.firmwareVersion());
}
